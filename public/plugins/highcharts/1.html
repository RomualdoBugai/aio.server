<!DOCTYPE html>
<!-- saved from url=(0065)http://localhost/ncrm/index.php/global/historico/superHistorico/1 -->
<html class="no-js"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

		<!--
			Desenvolvido por WILLIAM NOVAK
			http://www.facebook.com/williamnvk
			e-mail williamnvk@gmail.com
		-->

		<!--[if lt IE 9]><script language="javascript" type="text/javascript" src="//html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

		<title></title>
		
		
  		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
		<meta http-equiv="content-language" content="pt-br">
		<meta http-equiv="author" content="William Novak">
		<meta name="reply-to" content="williamnvk@gmail.com">
		<meta name="description" content="">
		<meta name="keywords" content="">
		<meta name="viewport" content="width=device-width, initial-scale=1">
   		<meta name="robots" content="NOINDEX,NOFOLLOW">

		<!--		
		<link rel="shortcut icon" href="http://www.xpertion.com.br/logo.png" type="image/x-icon" />
		<link rel="icon" href="http://www.xpertion.com.br/logo.png" sizes="32x32" />
		-->
		
		<!--[if lt IE 9]>
            <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->

        <!-- template -->

		<link rel="stylesheet" href="./1_files/semantic.css">
			<link rel="stylesheet" href="./1_files/fontello.css">
	
		<link rel="stylesheet" href="./1_files/william.css">
			<link rel="stylesheet" href="./1_files/default.css">
	
		<script type="text/javascript" src="./1_files/jquery-2.2.0.min.js"></script>
			<script type="text/javascript" src="./1_files/semantic.min.js"></script>
	
		<link rel="stylesheet" href="./1_files/jquery.dataTables.min.css">
			<script type="text/javascript" src="./1_files/jquery.dataTables.min.js"></script>
	
		<link rel="stylesheet" href="./1_files/sweetalert2.css">
			<script type="text/javascript" src="./1_files/sweetalert2.min.js"></script>
		
		<link rel="stylesheet" href="./1_files/colReorder.dataTables.min.css">
			<script type="text/javascript" src="./1_files/dataTables.colReorder.min.js"></script>
	
		<link rel="stylesheet" href="./1_files/scroller.dataTables.min.css">
			<script type="text/javascript" src="./1_files/dataTables.scroller.min.js"></script>
	
		<script type="text/javascript" src="./1_files/moment-with-locales.js"></script>
	
		<script type="text/javascript" src="./1_files/jquery.timeago.js"></script>
			<script type="text/javascript" src="./1_files/jquery.timeago.pt-br.js"></script>
	
		<script type="text/javascript" src="./1_files/jquery.price_format.2.0.min.js"></script>
	
		<script type="text/javascript" src="./1_files/inputmask.js"></script>
			<script type="text/javascript" src="./1_files/jquery.inputmask.js"></script>
			<script type="text/javascript" src="./1_files/jquery.maskMoney.js"></script>
	
		<link rel="stylesheet" href="./1_files/jquery-ui.css">
			<script type="text/javascript" src="./1_files/jquery-ui.min.js"></script>
	
		<link rel="stylesheet" href="./1_files/tip-yellowsimple.css">
			<script type="text/javascript" src="./1_files/jquery.poshytip.min.js"></script>
		
		<link rel="stylesheet" href="./1_files/jquery-editable.css">
			<script type="text/javascript" src="./1_files/jquery-editable-poshytip.min.js"></script>
	
		<link rel="stylesheet" href="./1_files/jquery.datetimepicker.css">
			<script type="text/javascript" src="./1_files/jquery.datetimepicker.full.min.js"></script>
	
		<script type="text/javascript" src="./1_files/jquery.nicescroll.min.js"></script>
	
		<link rel="stylesheet" href="./1_files/trumbowyg.css">
	
		<script type="text/javascript" src="./1_files/trumbowyg.min.js"></script>
			<script type="text/javascript" src="./1_files/pt.min.js"></script>
	
		<script type="text/javascript" src="./1_files/jquery.steps.min.js"></script>
			
		<script type="text/javascript" src="./1_files/jquery.validate.min.js"></script>
			<script type="text/javascript" src="./1_files/additional-methods.min.js"></script>
			<script type="text/javascript" src="./1_files/messages_pt_BR.js"></script>
	
		<script type="text/javascript" src="./1_files/scrollspy.js"></script>
	
		<script type="text/javascript" src="./1_files/moip-2.6.2.min.js"></script>
			<script type="text/javascript" src="./1_files/loader.js"></script>
	
		<script type="text/javascript" src="./1_files/dropzone.js"></script>
			<link rel="stylesheet" href="./1_files/dropzone.css">
	

		<script type="text/javascript" src="./1_files/bootstrap-typeahead.js"></script>
			<script type="text/javascript" src="./1_files/mention.js"></script>
			<link rel="stylesheet" href="./1_files/recommended-styles.css">
			
		
		
		
		<style type="text/css">


			*:not(.circular),
			.menu * {
				border-radius: 0 !important;
			}

			#DataTables_Table_0_length {
				display: none
			}			

			label.required:after {
	        	content: '\2217';
	        	color: red;
	        	font-weight: normal !important;
	        }

		</style>

		<script type="text/javascript">
			google.charts.load('current', {packages: ['corechart', 'bar']});
		</script><link id="load-css-0" rel="stylesheet" type="text/css" href="./1_files/util.css">

	<link id="load-css-1" rel="stylesheet" type="text/css" href="./1_files/tooltip.css"></head>

	<body>
		
	
		
					<div class="ui secondary menu inverted blue" style="padding: 10px;">

						<a class="item" data-quick-popup="" data-variation="inverted" data-content="Ir a página ínicial do sistema" href="http://localhost/ncrm/index.php/welcome/dashboard">
						    <i class="icon-home-1 icon"></i>
						</a>

						<a class="item" href="javascript:void(0);" data-tab="menu-principal">
						    <i class="icon-menu-1 icon"></i>
						</a>

						<a class="item active" data-quick-popup="" data-variation="inverted" data-content="Sistema" data-tab="index">
							<i class="icon-location-1 icon"></i>
						</a>

						<a data-quick-popup="" data-variation="inverted" data-content="Minhas notificações" class="item" data-tab="notificacao">
			                <i class="icon-email icon"></i>
			            </a>

						<!--

						<a data-quick-popup data-variation="inverted" data-content="Meus investidores favoritos" class="item" href="javascript:void(0);" data-tab="meus-favoritos">
				    		<i class="icon-star-empty icon"></i> 
						</a>

						<a data-quick-popup data-variation="inverted" data-content="Investidores que estou seguindo" href="javascript:void(0);"  class="item" data-tab="quem-estou-seguindo">
				    		<i class="icon-eye icon"></i> 
						</a>

						-->

						<a data-quick-popup="" data-variation="inverted" data-content="Minha agenda" href="javascript:void(0);" class="item" data-tab="minha-agenda">
				    		<i class="icon-calendar-1 icon"></i> 
						</a>

						<div class="item" data-tab="usuario">
	<strong>William Novak</strong>
	<i class="ui icon-circle icon inverse green"></i> disponível</div>

<script type="text/javascript">
	
	$(function()
		{
			'use strict';
			var sessaoApp = {
				url: {
					minhaSessao        : "http://localhost/ncrm/index.php/global/sessao/minhaSessao",
					ping               : "http://localhost/ncrm/index.php/global/sessao/ping",
					iniciarMinhaSessao : "http://localhost/ncrm/index.php/global/sessao/iniciarMinhaSessao",
				},
				initialize: function()
				{
					this.minhaSessao();
				},
				ping: function()
				{
					var $request = $.ajax({
	                    url    : this.url.ping,
	                    async  : false,
	                    cache  : true
	                });

	                $request
	                .always()
	            	.done(
	            		function(resultado)
						{
	                		console.log(resultado);
	            		}
	            	);
				},
				minhaSessao: function()
				{
					var $request = $.ajax({
	                    url    : this.url.minhaSessao,
	                    async  : false,
	                    cache  : true
	                });

	                $request
	                .always()
	            	.done(
	            		function(resultado)
						{
	                		if (resultado.status === true)
	                		{

	                			var $ping = $.ajax({
				                    url    : sessaoApp.url.ping,
				                    async  : false,
				                    cache  : true
				                });

				                $ping
				                .always()
				            	.done(
				            		function(k)
									{
				                	
				                		var data = k.data;	
										var tempo = new Number();
										tempo = data.configuracao.cronometro;
										sessaoApp.cronometro(tempo);


				            		}
				            	);	


	                		} else {
	                			$("[data-tab=\"second\"]").click();
	                		}
	            		}
	            	);	
				},
				iniciarMinhaSessao: function()
				{
					var $request = $.ajax({
	                    url    : this.url.iniciarMinhaSessao,
	                    async  : false,
	                    cache  : true
	                });

	                $request
	                .always()
	            	.done(
	            		function(k)
						{
	                		myApp
		                    .alerta(
		                    	{
		                    		tipo  : (k.status == true ? 'success' : 'danger'),
		                    		alerta: k.mensagem
		                    	}
		                    );

		                    if (k.status === true)
		                    {
		                    	sessaoApp.minhaSessao();
		                    	$("[data-tab=\"first\"]").click();
		                    }
	            		}
	            	);		
				},
				cronometro: function(tempo)
				{

					if( (tempo - 1) >= 0 )
					{
						var min = parseInt(tempo/60);
						var hor = parseInt(min/60);
						min = min % 60;
						var seg = tempo%60;
						
						if(min < 10)
						{
							min = "0"+min;
							min = min.substr(0, 2);
						}
						
						if(seg <=9)
						{
							seg = ("0" + seg + "");
						}

						seg = ("" + seg + "").substring(0,2);

						if(hor <=9)
						{
							hor = "0"+hor;
						}
						
						$("[widget-sessao-tempo=\"hora\"]").html(hor);
						$("[widget-sessao-tempo=\"minuto\"]").html(min);
						$("[widget-sessao-tempo=\"segundo\"]").html(seg);
						
						setTimeout(
							function()
							{
								sessaoApp.cronometro(tempo);
							}, 
						1000);

						tempo--;		
					}
				}
			}

			sessaoApp.initialize();

			var $botaoIniciarSessao = $("#widget-iniciar-sessao");

			$botaoIniciarSessao
			.unbind('click')
			.on('click', 
				function(event)
				{
					sessaoApp.iniciarMinhaSessao();
					event.preventDefault();
				}
			);

		}
	);


</script>
						<!--
						<a data-quick-popup data-variation="inverted" data-content="Informa&ccedil;&otilde;es sobre o sistema" href="javascript:void(0);" class="item" data-tab="versao-sistema">
				    		<i class="icon-info-circled-alt icon"></i> 
						</a>
						-->

						<a class="item right" href="http://localhost/ncrm/index.php/autenticacao/logoff">
				    		<i class="icon-off icon"></i> 
							Sair
						</a>

					</div>

	
		<div class="ui tab" data-tab="menu-principal">
            
            

<div class="ui container">

    <div class="ui form">
        <div class="ui search">
            <div class="ui icon input">
                <input class="prompt" type="text" placeholder="Quero acessar...">
                <i class="search icon"></i>
            </div>
        </div>
    </div>

    <div class="ui horizontal divider">
        <i class="icon-menu-1 icon"></i>
    </div>

    <div class="ui grid">
        
        <div class="four wide column">
            <p>
                                
            </p>
            <a href="http://localhost/ncrm/index.php/global/historico/superHistorico/1#"><i class="icon-user icon"></i>Investidores</a><a href="http://localhost/ncrm/index.php/global/historico/superHistorico/1#"><i class="icon-phone icon"></i>Ligar para</a>        </div>

        <div class="twelve wide column">

        <p>

                <i class="icon-cog-alt icon"></i>

                Administrativo</p><div class="ui horizontal list"><a class="item" href="http://localhost/ncrm/index.php/setup/usuario/index">Usuários</a><a class="item" href="http://localhost/ncrm/index.php/setup/grupo/index">Grupo de Permissões</a><a class="item" href="http://localhost/ncrm/index.php/setup/equipe/index">Gestão da equipe</a><a class="item" href="http://localhost/ncrm/index.php/setup/empresa/index">Empresa</a><a class="item" href="http://localhost/ncrm/index.php/setup/divisao_empresa/index">Filial</a><a class="item" href="http://localhost/ncrm/index.php/setup/carteira/index">Carteira de investidores</a><a class="item" href="http://localhost/ncrm/index.php/setup/departamento/index">Departamento</a><a class="item" href="http://localhost/ncrm/index.php/setup/importar_registro/index">Importar registro(s) e investidor(es)</a><a class="item" href="http://localhost/ncrm/index.php/setup/evento/index">Eventos</a><a class="item" href="http://localhost/ncrm/index.php/setup/turno/index">Turno</a><a class="item" href="http://localhost/ncrm/index.php/setup/mapa_geografico/index">Mapa geográfico</a><a class="item" href="http://localhost/ncrm/index.php/setup/intervalo_programado/index">Intervalo programado</a><a class="item" href="http://localhost/ncrm/index.php/setup/transacao_financeira/index">Transação finaneira</a><a class="item" href="http://localhost/ncrm/index.php/setup/empresa_unidade/index">Unidade</a><a class="item" href="http://localhost/ncrm/index.php/setup/acesso_externo/index">Acesso externo</a><a class="item" href="http://localhost/ncrm/index.php/setup/modelo_envio_email/index">Modelo de e-mail</a><a class="item" href="http://localhost/ncrm/index.php/setup/bloco/index">Bloco</a></div><p>

                <i class="icon-tags icon"></i>

                Normalização</p><div class="ui horizontal list"><a class="item" href="http://localhost/ncrm/index.php/normalizacao/tipo_contato/index">Tipo de contato</a><a class="item" href="http://localhost/ncrm/index.php/normalizacao/como_conheceu/index">Como nos conheceu</a><a class="item" href="http://localhost/ncrm/index.php/normalizacao/questionario/index">Questionário</a><a class="item" href="http://localhost/ncrm/index.php/normalizacao/tag/index">Tag de investidor</a><a class="item" href="http://localhost/ncrm/index.php/normalizacao/motivo_contato/index">Motivo do contato</a><a class="item" href="http://localhost/ncrm/index.php/normalizacao/tipo_projeto/index">Tipo de Projeto</a><a class="item" href="http://localhost/ncrm/index.php/normalizacao/projeto/index">Projeto</a><a class="item" href="http://localhost/ncrm/index.php/normalizacao/banco/index">Banco</a><a class="item" href="http://localhost/ncrm/index.php/normalizacao/estagio/index">Classificação</a><a class="item" href="http://localhost/ncrm/index.php/normalizacao/relacao/index">Relação</a><a class="item" href="http://localhost/ncrm/index.php/normalizacao/intervalo_operacao/index">Intervalo de operação</a><a class="item" href="http://localhost/ncrm/index.php/normalizacao/auditoria_atendimento/index">Item de auditoria do atendimento</a><a class="item" href="http://localhost/ncrm/index.php/normalizacao/evento_tipo/index">Tipo do evento</a><a class="item" href="http://localhost/ncrm/index.php/normalizacao/campo_extra/index">Campo(s) extra(s)</a><a class="item" href="http://localhost/ncrm/index.php/normalizacao/avaliacao_atendimento/index">Item de avaliação de atendimento</a><a class="item" href="http://localhost/ncrm/index.php/normalizacao/forma_captacao/index">Forma de captação</a><a class="item" href="http://localhost/ncrm/index.php/normalizacao/grupo_projeto/index">Grupo de projeto</a><a class="item" href="http://localhost/ncrm/index.php/normalizacao/motivo_cancelamento_transacao_financeira/index">Motivo desistência de doação</a><a class="item" href="http://localhost/ncrm/index.php/normalizacao/motivo_agendar_retorno/index">Motivo para agendar retorno</a><a class="item" href="http://localhost/ncrm/index.php/normalizacao/valor_transacao_departamento/index">Valor sugerido de doação por departamento</a></div><p>

                <i class="icon-users icon"></i>

                CRM</p><div class="ui horizontal list"><a class="item" href="http://localhost/ncrm/index.php/crm/cliente/index">Investidores</a><a class="item" href="http://localhost/ncrm/index.php/crm/campanha/index">Campanha</a><a class="item" href="http://localhost/ncrm/index.php/crm/ligar_para/index">Ligar para</a></div><p>

                <i class="icon-spin4 animate-spin icon"></i>

                Sistema</p><div class="ui horizontal list"><a class="item" href="http://localhost/ncrm/index.php/sistema/terminal/index">Terminal</a><a class="item" href="http://localhost/ncrm/index.php/sistema/configuracao_sistema/formulario">Configuração do sistema</a></div><p>

                <i class="icon-chat icon"></i>

                Central de atendimento</p><div class="ui horizontal list"><a class="item" href="http://localhost/ncrm/index.php/central_atendimento/sessao_operador/index">Operadores em atividade</a><a class="item" href="http://localhost/ncrm/index.php/central_atendimento/configuracao_central_atendimento/index">Configuração da central de atendimento</a><a class="item" href="http://localhost/ncrm/index.php/central_atendimento/central_atendimento/index">Central de Atendimento</a><a class="item" href="http://localhost/ncrm/index.php/central_atendimento/central_atendimento_supervisor/index">Supervisor</a></div><p>

                <i class="icon-dollar icon"></i>

                Financeiro</p><div class="ui horizontal list"><a class="item" href="http://localhost/ncrm/index.php/financeiro/cliente_transacao_financeira/index">Transação financeira</a></div>
        </div>

    </div>

</div>



        </div>
						
		<div class="ui active tab" data-tab="index">

			
<div class="ui container">

    <h1>
            </h1>

    <div class="ui horizontal list">
    
        
        
        
    </div>

</div>

			
			<script type="text/javascript">

$('#historico_texto').mention({
	users: [{"name":"notifica&ccedil;&atilde;o do sistema","username":""},{"name":"opa","username":"opa"},{"name":"usuario de teste","username":"teste"},{"name":"william novak","username":"williamnvk"}]});

$("#formulario").submit(function () {
    var formData = new FormData(this);

    $.ajax({
        url: window.location.pathname,
        type: 'POST',
        data: formData,
        success: function (data) {
            alert(data)
        },
        cache: false,
        contentType: false,
        processData: false,
        xhr: function() {  // Custom XMLHttpRequest
            var myXhr = $.ajaxSettings.xhr();
            if (myXhr.upload) { // Avalia se tem suporte a propriedade upload
                myXhr.upload.addEventListener('progress', function () {
                    /* faz alguma coisa durante o progresso do upload */
                }, false);
            }
        return myXhr;
        }
    });
});

</script>








<div>

	<form class="ui form" method="post" enctype="multipart/form-data">
		
		<div class="ui pointing menu">
			<div class="item active" data-tab="anexar-arquivo">
				<i class="icon-attach icon"></i> anexo
			</div>
			<div class="item" data-tab="agendar-retorno">
				<i class="icon-calendar-1 icon"></i> agendar retorno
			</div>
			<div class="item" data-tab="criar-evento">
				<i class="icon-location-1 icon"></i> criar evento
			</div>
		</div>

		<div class="ui input fluid" style="margin-top: -14px">
			<textarea id="historico_texto" name="historico_texto" rows="4"></textarea>
		</div>

		<div class="ui tab active" id="anexar-arquivo" data-tab="anexar-arquivo">
			<div>
				<input name="arquivo" type="file">
			</div>

		</div>

		<div class="ui tab" data-tab="agendar-retorno">
			agendar retorno
		</div>

		<div class="ui tab" data-tab="criar-evento">
			criar evento
		</div>


	</form>

</div>

<script type="text/javascript">
	$(function(){
		'use strict';

		$(".dropzone").dropzone({ url: 'http://localhost/ncrm/index.php/welcome/dashboard' });

	});
</script>        </div>

        <div class="ui tab" data-tab="minha-agenda">
            
            <div class="ui container">
               

<div class="ui container">


<h1>Minha agenda</h1>
<div class="ui horizontal divider">
	<i class="icon-calendar icon"></i>
</div>

<div class="ui comments cliente-historico">

	
</div>

</div>            </div>

        </div>

         <div class="ui tab" data-tab="versao-sistema" style="background: #222; min-height: 100%; margin-top: -14px;">
            
            <div class="ui container">
                
            </div>

        </div>

        <div class="ui tab" data-tab="meus-favoritos">
            meus favoritos
            <script type="text/javascript">
	
	var meuFavoritoApp = {
		id: 1,
		url: {
			meusFavoritos : "http://localhost/ncrm/index.php/global/favorito/meusFavoritos"
		},
		initialize: function()
		{
			
		}
	}


</script>        </div>

        <div class="ui tab" data-tab="quem-estou-seguindo">
            quem estou seguindo
        </div>

        <div class="ui tab" data-tab="notificacao">
        
            <div class="ui container">
	<div class="ui grid">
		
		<div class="ui row">
			
			<div class="sixteen wide column">
				<a class="ui button green" href="javascript:void(0);">
					<i class="icon-paper-plane-1 icon"></i> Novo
				</a>

				<!--
				<a verificar-meu-email class="ui button success">
					<i class="icon-mail-1 icon"></i> Verificar meu e-mail
				</a>
				-->

			</div>


			<script type="text/javascript">
				$(function(){
					'use strict';

					var $botao = $("[verificar-meu-email]");

					$botao
					.unbind("click")
					.click(function(event){

						var $request = $.ajax({
			                url    : "http://localhost/ncrm/index.php/global/notificacao/verificarEmail",
			                async  : false,
			                cache  : true
			            });

			            $request
			            .always()
			        	.done(
			        		function(k)
							{
								
			                    myApp
			                    .alerta(
			                    	{
			                    		tipo  : (k.status == true ? 'success' : 'danger'),
			                    		alerta: k.alerta
			                    	}
			                    );

			        		}
			        	);

						event.preventDefault();

					});



				});
			</script>

		</div>

		<div class="ui row">
			
			<div class="three wide column">
				<div class="ui menu vertical pointing fluid caixas">
					<a class="item" href="javascript:void(0);" data-tab="caixa-entrada">
						<i class="icon-inbox icon"></i> Caixa de entrada
					</a>
					<a class="item" href="javascript:void(0);" data-tab="caixa-saida">
						<i class="icon-logout-1 icon"></i> Enviadas
					</a>
					<a class="item disabled" href="javascript:void(0);">
						<i class="icon-trash-empty icon"></i> Lixo
					</a>
				</div>
			</div>

			<div class="thirteen wide column">

				<div class="ui tab" data-tab="caixa-entrada" data-caixa="entrada">
					
					<div class="minha-caixa" style="display: none;">

						<div class="ui menu fluid">
							<a class="item atualizar-caixa" href="javascript:void(0);">
								<i class="icon-arrows-ccw icon"></i>
							</a>
							<a class="item disabled" data-filtrar-notificacao="hoje" href="javascript:void(0);"><i class="icon-menu-1 icon"></i> todas</a>
							<a class="item disabled" data-filtrar-notificacao="hoje" href="javascript:void(0);"><i class="icon-sun icon"></i> hoje</a>
							<a class="item disabled" data-filtrar-notificacao="nao-lida" href="javascript:void(0);"><i class="icon-eye-off icon"></i> não lida</a>
							<a class="item disabled" data-filtrar-notificacao="lida" href="javascript:void(0);"><i class="icon-eye icon"></i> lida</a>
						</div>

						<div class="caixa-entrada-item ui vertical menu fluid">
							
						</div>

					</div>

					<div class="minha-notificacao" style="display: none;">
						
						<a class="ui button grey" href="http://localhost/ncrm/index.php/global/historico/superHistorico/1#"><i class="icon-angle-double-left icon"></i> voltar</a>
						
						<div id="content">
						</div>

					</div>

				</div>

				<div class="ui tab active" data-tab="caixa-saida" data-caixa="saida">
					
					<div class="minha-caixa" style="display: none;">

						<div class="ui menu fluid">
							<a class="item atualizar-caixa" href="javascript:void(0);">
								<i class="icon-arrows-ccw icon"></i>
							</a>
							<a class="item disabled" data-filtrar-notificacao="hoje" href="javascript:void(0);"><i class="icon-menu-1 icon"></i> todas</a>
							<a class="item disabled" data-filtrar-notificacao="hoje" href="javascript:void(0);"><i class="icon-sun icon"></i> hoje</a>
							<a class="item disabled" data-filtrar-notificacao="nao-lida" href="javascript:void(0);"><i class="icon-eye-off icon"></i> não lida</a>
							<a class="item disabled" data-filtrar-notificacao="lida" href="javascript:void(0);"><i class="icon-eye icon"></i> lida</a>
						</div>

						<div class="caixa-entrada-item ui vertical menu fluid">
							
						</div>
						
					</div>

					<div class="minha-notificacao" style="display: none;">
						
						<a class="ui button grey" href="http://localhost/ncrm/index.php/global/historico/superHistorico/1#"><i class="icon-angle-double-left icon"></i> voltar</a>
						
						<div id="content">
						</div>

					</div>

				</div>

				<div class="ui tab" data-tab="caixa-lixo">
					<a data-notificacao-atualizar="" href="javascript:void(0);">
						<i class="icon-arrows-ccw icon"></i>
					</a>
					filtrar por tipo
					<div class="ui secondary menu">
						<a data-filtrar-notificacao="hoje" href="javascript:void(0);"><i class="icon-time icon"></i> hoje</a>
					</div>
				</div>

			</div>

		</div>

	</div>
</div>



<script>

	$(".minha-notificacao").hide();
	$(".minha-caixa").hide();

	var	notificacaoApp = {
		url: {
			minhaCaixaDeEntrada : "http://localhost/ncrm/index.php/global/notificacao/minhaCaixaDeEntrada",
			minhaCaixaDeSaida   : "http://localhost/ncrm/index.php/global/notificacao/minhaCaixaDeSaida",
			abrirNotificacao    : "http://localhost/ncrm/index.php/global/notificacao/abrirNotificacao",
		},
		abrirNotificacao: function(caixa, id)
		{
			var $caixa = $("[data-tab=\"caixa-" + caixa + "\"]");
			$caixa.find(".minha-caixa").hide();
			var $notificacao = $caixa.find(".minha-notificacao").show().find("#content");
			$notificacao.load(this.url.abrirNotificacao + "/" + id);

		},
		initialize: function(caixa)
		{
			$(".minha-notificacao").hide();
			$(".minha-caixa").hide();

			if (caixa == 'caixa-entrada')
			{
				this.caixaEntrada();
			} else if (caixa == 'caixa-saida')
			{
				this.caixaSaida();
			}
		},
		xx: function()
		{
			$(".minha-caixa [data-notificacao-usuario-id]").on('click', function(event){
				var $this = $(this);
				var caixa = $this.closest('[data-caixa]').data("caixa");
				var id    = $this.data("notificacao-usuario-id");
				notificacaoApp.abrirNotificacao(caixa, id);
			});
		},
		fill: function(caixa, data)
		{
			$(".minha-caixa").hide();
			var $caixa = $("[data-tab=\"" + caixa + "\"]").find(".minha-caixa").show();
			$caixa = $caixa.find(".caixa-entrada-item").html("");

			$.each(data,
				function(k,v)
				{
					$caixa.append("" +
						"<div class=\"item\">" + 
							"<div class=\"ui grid fluid\">" + 
								"<div class=\"one wide column\">" + 
									"<div class=\"ui checkbox\">" +
										"<input type=\"checkbox\" name=\"usuario_notificacao_id[]\" value=\"" + v.usuario_notificacao_id  + "\" />" + 
									"</div>" + 
								"</div>" + 
								"<div data-notificacao-usuario-id=\"" +  v.usuario_notificacao_id + "\" class=\"fifteen wide column\">" + 
									"<div class=\"ui grid fluid\">" + 
										"<div class=\"four wide column\">" + 
											v.usuario_nome + 
										"</div>" + 
										"<div class=\"eight wide column\">" + 
											v.usuario_notificacao_assunto + 
										"</div>" + 
										"<div class=\"four wide column\" style=\"text-align: right\">" + 
											v.usuario_notificacao_created + 
									"</div>" + 
									"</div>" + 
								"</div>" + 
							"</div>" + 
						"</a>" + 
					"");
				}
			);

			myApp.checkbox();
			myApp.popup();

			this.xx();

		},
		caixaEntrada: function()
		{
			var $request = $.ajax({
                url    : this.url.minhaCaixaDeEntrada,
                async  : false,
                cache  : true
            });

            $request
            .always()
        	.done(
        		function(k)
				{
					
					if (k.status == true)
					{
                    	notificacaoApp.fill("caixa-entrada", k.data);
                    }

                    myApp
                    .alerta(
                    	{
                    		tipo  : (k.status == true ? 'success' : 'danger'),
                    		alerta: k.alerta
                    	}
                    );

        		}
        	);	
		},
		caixaSaida: function()
		{
			var $request = $.ajax({
                url    : this.url.minhaCaixaDeSaida,
                async  : false,
                cache  : true
            });

            $request
            .always()
        	.done(
        		function(k)
				{
					
					if (k.status == true)
					{
                    	notificacaoApp.fill("caixa-saida", k.data);
                    }

                    myApp
                    .alerta(
                    	{
                    		tipo  : (k.status == true ? 'success' : 'danger'),
                    		alerta: k.alerta
                    	}
                    );

        		}
        	);	
		}
	}

	$(".caixas [data-tab]").on('click', function(event){
		var $this = $(this);
		var caixa = $this.data('tab');
		notificacaoApp.initialize(caixa);	
	});

	$(".atualizar-caixa").on('click', function(event){
		var $this = $(this);
		var caixa = $this.closest("[data-tab]").data('tab');
		notificacaoApp.initialize(caixa);	
	});

</script> 

        </div>

        <script type="text/javascript" src="./1_files/jsapi_compiled_format_module.js"></script><script type="text/javascript" src="./1_files/jsapi_compiled_default_module.js"></script><script type="text/javascript" src="./1_files/jsapi_compiled_ui_module.js"></script><script type="text/javascript" src="./1_files/jsapi_compiled_corechart_module.js"></script><script type="text/javascript" src="./1_files/dygraph-tickers-combined.js"></script><script type="text/javascript" src="./1_files/webfont.js"></script><script type="text/javascript" src="./1_files/jsapi_compiled_bar_module.js"></script><div class="ui tab" data-tab="usuario">
            
            <div class="ui container">
                
                <div class="ui pointing menu">
    <a class="item active" data-tab="minha-sessao"><i class="icon-user icon"></i></a>
    <a class="item" data-tab="meus-ramais"><i class="icon-headphones icon"></i> Meus ramais</a>
    <a class="item" data-tab="notificacao-do-sistema"><i class="icon-paper-plane icon"></i> Notificações</a>
</div>

<div class="ui tab active" data-tab="minha-sessao">

    <div class="ui top attached tabular menu" style="display: none">
        <a class="item" data-tab="first"></a>
        <a class="item active" data-tab="second"></a>
    </div>

    <div class="ui tab" data-tab="first">
        
        <form class="ui form" method="post">
            <div class="four wide field">
                <div class="ui fluid search selection dropdown">
                    <input type="hidden" id="sessao_operador_intervalo_intervalo_operacao_id" name="sessao_operador_intervalo_intervalo_operacao_id" value="1" required="">
                    <i class="dropdown icon" tabindex="0"><div class="menu"></div></i>
                    <input class="search" tabindex="0"><div class="text"><i class="ui icon-circle icon inverse orange"></i> estou no meu primeiro intervalo obrigatório</div>
                    <div class="menu" tabindex="-1">
                    
                        <div data-value="4" class="item">
                            <i class="ui icon-circle icon inverse red"></i> estou em reunião
                        </div>
                        
                        <div data-value="5" class="item">
                            <i class="ui icon-circle icon inverse orange"></i> fui ao banheiro
                        </div>
                        
                        <div data-value="1" class="item active selected">
                            <i class="ui icon-circle icon inverse orange"></i> estou no meu primeiro intervalo obrigatório
                        </div>
                        
                        <div data-value="2" class="item">
                            <i class="ui icon-circle icon inverse orange"></i> estou no meu horário de lanche obrigatório
                        </div>
                        
                        <div data-value="3" class="item">
                            <i class="ui icon-circle icon inverse orange"></i> estou no meu segundo intervalo obrigatório
                        </div>
                                            </div>
                </div>
            </div>
            <button type="submit" class="ui button primary" name="interromper-minha-sessao">interromper minha sessão</button>
        </form>

        <div class="ui horizontal divider">
            <i class="icon-doc icon"></i>
        </div>
        
            
    

<script type="text/javascript">

	function str_pad_left(string,pad,length)
    {
        return (new Array(length+1).join(pad)+string).slice(-length);
    }

 	var sessaoDoDia = 
 	{
	 	values: {
	 		agora      : "0",
	 	},
	    initialize: function()
	    {
	        var tempo = new Number();
	        tempo = this.values.agora;
	        sessaoDoDia.cronometro(tempo);

	        var minutes = Math.floor(this.values.agora / 60);
	        var seconds = this.values.agora - minutes * 60;
	        var hours   = Math.floor(this.values.agora / 3600);
	        var time    = this.values.agora - hours * 3600;

	        var finalTime = str_pad_left(minutes,'0',2)+':'+str_pad_left(seconds,'0',2);
			$("[widget-sessao-tempo-agora]").html( finalTime );

		},
        cronometro: function(tempo)
        {

            if( (tempo - 1) >= 0 )
            {
                var min = parseInt(tempo/60);
                var hor = parseInt(min/60);
                min = min % 60;
                var seg = tempo%60;
                
                if(min < 10)
                {
                    min = "0"+min;
                    min = min.substr(0, 2);
                }
                
                if(seg <=9)
                {
                    seg = ("0" + seg + "");
                }

                seg = ("" + seg + "").substring(0,2);

                if(hor <=9)
                {
                    hor = "0"+hor;
                }
                
                $("[sessao-do-dia-tempo=\"hora\"]").html(hor);
                $("[sessao-do-dia-tempo=\"minuto\"]").html(min);
                $("[sessao-do-dia-tempo=\"segundo\"]").html(seg);
                
                setTimeout(
                    function()
                    {
                        sessaoDoDia.cronometro(tempo);
                    }, 
                1000);

                tempo--;        
            }
        }
	}

	sessaoDoDia.initialize();

</script>        
    </div>

    <div class="ui tab active" data-tab="second">
        <div class="ui container">
            
            <a id="widget-iniciar-sessao" class="ui ok animated fade button green" tabindex="0" href="javascript:void(0);">
                <div class="visible content">Quero começar</div>
                <div class="hidden content">
                    <i class="icon-emo-thumbsup icon"></i>
                </div>
            </a>

        </div>
    </div>

</div>

<script type="text/javascript">
    $(function(){

        var $botaoIniciarSessao = $("#widget-iniciar-sessao");

        $botaoIniciarSessao
        .unbind("click")
        .on('click', 
            function(event)
            {
                sessaoApp.iniciarMinhaSessao();
                event.preventDefault();
            }
        );

        var $botaoInterromperSessao = $("[name=\"interromper-minha-sessao\"]");
        
        $botaoInterromperSessao
        .unbind("click")
        .on('click', 
            function(event)
            {
                sessaoApp.interromperMinhaSessao( $(this).closest('form').serialize() );
                event.preventDefault();
            }
        );

    });


</script>

<div class="ui tab" data-tab="meus-ramais">
    
    <form class="ui form">
        
        <div style="display: none">
            <div id="meu-ramal-repositorio">
                <input type="text" name="usuario_ramal_id[]" value="" required="">
                <div class="ui input">
                    <input type="text" name="usuario_ramal_ramal[]" value="" required="">
                </div>
            </div>
        </div>

        <div id="meu-ramal-data" class="ui list">

        </div>

        <a adicionar-um-ramal="" class="ui button green" href="javascript:void(0);">novo</a>
        <a class="ui button blue" definir-ramal-em-uso="" href="javascript:void(0);">Marcar como ramal em uso</a>

    </form>

</div>

<div class="ui tab" data-tab="notificacao-do-sistema">

    <form name="formulario-alterar-notificacao-do-sistema" method="post">

        <table class="ui table">
            <thead>
                <tr>
                    <th></th>
                    <th>Pelo sistema <i data-popup="" data-html="Você receberá as notificações na sua caixa de entrada dentro do sistema" data-variation="inverted" class="icon-help-circled-alt icon"></i></th>
                    <th>No meu e-mail <i data-popup="" data-html="Você receberá as notificações na caixa de entrada do seu e-mail" data-variation="inverted" class="icon-help-circled-alt icon"></i></th>
                </tr>
            </thead>
            <tbody>
            
                    <tr>
                        <td>           
                            quando eu for <u>marcado(a)</u> em <u>feed</u>
                        </td>
                        <td>
                            <div class="ui toggle checkbox">
                                <input type="checkbox" name="usuario_sistema_notificacao_interno[1]" tabindex="0" class="hidden"><label></label>
                            </div>
                        </td>
                        <td>
                            <div class="ui toggle checkbox">
                                <input type="checkbox" name="usuario_sistema_notificacao_email[1]" tabindex="0" class="hidden"><label></label>
                            </div>
                        </td>
                    </tr>
                
                    <tr>
                        <td>           
                            quando um <u>feed</u> for adicionado a um "investidor" que eu estou <u>seguindo</u>
                        </td>
                        <td>
                            <div class="ui toggle checkbox">
                                <input type="checkbox" name="usuario_sistema_notificacao_interno[2]" tabindex="0" class="hidden"><label></label>
                            </div>
                        </td>
                        <td>
                            <div class="ui toggle checkbox">
                                <input type="checkbox" name="usuario_sistema_notificacao_email[2]" tabindex="0" class="hidden"><label></label>
                            </div>
                        </td>
                    </tr>
                
                    <tr>
                        <td>           
                            quando uma <u>tag</u> de um "investidor" for marcada e a mesma estiver na minha lista de tags classificadas
                        </td>
                        <td>
                            <div class="ui toggle checkbox">
                                <input type="checkbox" name="usuario_sistema_notificacao_interno[3]" tabindex="0" class="hidden"><label></label>
                            </div>
                        </td>
                        <td>
                            <div class="ui toggle checkbox">
                                <input type="checkbox" name="usuario_sistema_notificacao_email[3]" tabindex="0" class="hidden"><label></label>
                            </div>
                        </td>
                    </tr>
                
                    <tr>
                        <td>           
                            quando houver um acesso pelo dispositivo na minha conta
                        </td>
                        <td>
                            <div class="ui toggle checkbox">
                                <input type="checkbox" name="usuario_sistema_notificacao_interno[4]" tabindex="0" class="hidden"><label></label>
                            </div>
                        </td>
                        <td>
                            <div class="ui toggle checkbox">
                                <input type="checkbox" name="usuario_sistema_notificacao_email[4]" tabindex="0" class="hidden"><label></label>
                            </div>
                        </td>
                    </tr>
                
                    <tr>
                        <td>           
                            ao alterar minha senha
                        </td>
                        <td>
                            <div class="ui toggle checkbox">
                                <input type="checkbox" name="usuario_sistema_notificacao_interno[5]" tabindex="0" class="hidden"><label></label>
                            </div>
                        </td>
                        <td>
                            <div class="ui toggle checkbox">
                                <input type="checkbox" name="usuario_sistema_notificacao_email[5]" tabindex="0" class="hidden"><label></label>
                            </div>
                        </td>
                    </tr>
                            </tbody>
        </table>

        <button type="submit" class="ui button primary" name="alterar-notificacao-do-sistema">atualizar</button>

    </form>

</div>

<div id="retomar-minha-sessao" class="ui basic fullscreen modal">
    <div class="content">
        
        <div class="ui basic segment center aligned">
            
            <h1 class="ui icon header">
                <i class="icon-hourglass icon"></i>                    
                <div id="sessao-interrompida-nome">
                    
                </div>
            </h1>

            <p style="color: #444">
                Você saiu <span></span>! Estamos te esperando... Não demore!
            </p>

        </div>

    </div>
    <div class="actions" style="border-top: none">
        <div class="ui container fluid center aligned">
            <a class="ui green ok inverted button">
                <i class="icon-ok-1 icon"></i>
                Voltei
            </a>
        </div>
    </div>
</div>

<script type="text/javascript">
    
    $(function(){
        'use strict';

        var $meuRamal = $("#meu-ramal-data");
        var $botaoNovoRamal = $("[adicionar-um-ramal]");
        var $acaoCarregarMeuRamal = $("a[data-tab=\"meus-ramais\"]");

        var usuarioInterno = {
            url: {
                'alterarMeusDados'                   : "http://localhost/ncrm/index.php/interno/usuario/alterarMeusDados",
                'alterarMinhaSenha'                  : "http://localhost/ncrm/index.php/interno/usuario/alterarMinhaSenha",
                'alterarMinhasNotificacoesDoSistema' : "http://localhost/ncrm/index.php/interno/usuario/alterarMinhasNotificacoesDoSistema",
                'usuario_ramal' : {
                    meuRamal          : "http://localhost/ncrm/index.php/global/usuario/meuRamal",
                    adicionarRamal    : "http://localhost/ncrm/index.php/global/usuario/adicionarRamal",
                    excluirRamal      : "http://localhost/ncrm/index.php/global/usuario/excluirRamal",
                    definirRamalEmUso : "http://localhost/ncrm/index.php/global/usuario/definirRamalEmUso",
                }
            },
            initialize: function()
            {

            },
            actionPostSistemaNotificacao: function(data)
            {
                $.ajax({
                        dataType: "json",
                        method : "POST",
                        url    : this.url.alterarMinhasNotificacoesDoSistema,
                        data   : data,
                        async  : true,
                        cache  : false,
                        beforeSend: function()
                        {
                            
                        },
                        success: function(resultado)
                        {
                            myApp
                            .alerta(
                                {
                                    tipo  : (resultado.status == true ? 'success' : 'danger'),
                                    alerta: resultado.alerta
                                }
                            );
                        }
                });
            },
            meuRamal: function()
            {
                $meuRamal.html("");

                $.ajax({                                    
                    url    : this.url.usuario_ramal.meuRamal,
                    async  : true,
                    cache  : false,
                    beforeSend: function()
                    {
                        
                    },
                    success: function(resultado)
                    {
                        myApp
                        .alerta(
                            {
                                tipo   : ( resultado.status == true ? 'success' : 'danger' ),
                                alerta : resultado.alerta
                            }
                        );
                        if (resultado.status === true)
                        {
                            $.each(resultado.data, 
                                function(k,v)
                                {
                                    var checked = '';
                                    
                                    if (v.usuario_ramal_em_uso == 1)
                                    {
                                        checked = 'checked="checked"';
                                    }

                                    $meuRamal
                                    .append("" + 
                                        "<div class=\"ui item slider checkbox\">" + 
                                            "<input type=\"radio\" name=\"usuario_ramal_id\" value=\"" + v.usuario_ramal_id + "\" " + checked + " />" + 
                                            "<label>" +
                                                v.usuario_ramal_ramal + 
                                            "</label>" + 
                                        "</div>" + 
                                    "");
                                }
                            );
                        }

                        myApp.checkbox();
                    }
                });
            },
            adicionarRamal: function()
            {
                var $modal = $("#adicionar-um-ramal");
                $modal.modal(
                {
                    onApprove : function()
                    {
                        $.ajax({                                    
                            url    : usuarioInterno.url.usuario_ramal.adicionarRamal,
                            method : "POST",
                            data   : {
                                usuario_ramal_ramal : $("input[name=\"usuario_ramal_ramal\"]").val()
                            },
                            async  : true,
                            cache  : false,
                            beforeSend: function()
                            {
                                
                            },
                            success: function(resultado)
                            {
                                myApp
                                .alerta(
                                    {
                                        tipo  : (resultado.status == true ? 'success' : 'danger'),
                                        alerta: resultado.alerta
                                    }
                                );

                                usuarioInterno.meuRamal();

                                $("input[name=\"usuario_ramal_ramal\"]").val("");
                            }
                        });
                    }
                }).modal('show');
            },
            definirRamalEmUso: function()
            {
                $.ajax({                                    
                    url    : usuarioInterno.url.usuario_ramal.definirRamalEmUso,
                    method : "POST",
                    data   : {
                        usuario_ramal_id : $("[name=\"usuario_ramal_id\"]:checked").val()
                    },
                    async  : true,
                    cache  : false,
                    beforeSend: function()
                    {
                        
                    },
                    success: function(resultado)
                    {
                        myApp
                        .alerta(
                            {
                                tipo  : (resultado.status == true ? 'success' : 'danger'),
                                alerta: resultado.alerta
                            }
                        );

                        $("input[name=\"usuario_ramal_ramal\"]").val("");
                    }
                });
            },
        };

        var $botaoDefinirRamalEmUso = $("[definir-ramal-em-uso]");
        $botaoDefinirRamalEmUso
        .on('click', function(event){
            usuarioInterno.definirRamalEmUso();
            event.preventDefault();
        });


        $acaoCarregarMeuRamal
        .click(function(){
            usuarioInterno.meuRamal();
        });

        var $botaoAlterarMinhasPreferencias = $("[name=\"alterar-notificacao-do-sistema\"]");

        $botaoAlterarMinhasPreferencias
        .on('click',
            function(e)
            {
                usuarioInterno.actionPostSistemaNotificacao( $(this).closest('form').serialize() );
                e.preventDefault();
                return false;
            }
        );

        $botaoNovoRamal.on('click', function(event){
            usuarioInterno.adicionarRamal();
        });


    });

</script>



<div id="adicionar-um-ramal" class="ui basic small modal">
    <div class="content">
        <div class="ui container fluid center aligned">
            <div class="ui grid center aligned floated">
                <div class="eight wide column">
                    <h1 style="color: #444">
                        <i class="icon-flow-split icon"></i>
                    </h1>
                    <p style="color: #444">
                    Adicionar um ramal
                    </p>
                    <div class="ui form">
                        <input type="text" name="usuario_ramal_ramal" value="" maxlength="44" placeholder="ramal">
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="actions" style="border-top: none">
        <div class="ui container fluid center aligned">
            <a class="ui cancel button">
                <i class="icon-cancel icon"></i>
                Cancelar
            </a>
            <a class="ui green ok inverted button">
                <i class="icon-ok-1 icon"></i>
                Adicionar
            </a>
        </div>
        
    </div>
</div>
            </div>

            

        </div>


        <!-- aqui era pra ta os scritps -->
        
		<script type="text/javascript">
			
			$(function(){
				'use strict';

				var $page = $(document);

                $.fn.hasAttr = function(name) {  
                   return this.attr(name) !== undefined;
                };

                $.fn.exists = function() { return this.length > 0; };

                $.each($page.find('form').find('input, select, textarea'), function(k,v){
                    var item = $(v);
                    if (item.hasAttr('required'))
                    {
                        item.closest('.field').find('label[for]').addClass('required');
                        item.closest('.fields').find('label[for]').addClass('required');
                    }
                });

                Number.prototype.formatMoney = function(c, d, t){
                    var n = this, 
                        c = isNaN(c = Math.abs(c)) ? 2 : c, 
                        d = d == undefined ? "." : d, 
                        t = t == undefined ? "," : t, 
                        s = n < 0 ? "-" : "", 
                        i = parseInt(n = Math.abs(+n || 0).toFixed(c)) + "", 
                        j = (j = i.length) > 3 ? j % 3 : 0;
                       return s + (j ? i.substr(0, j) + t : "") + i.substr(j).replace(/(\d{3})(?=\d)/g, "$1" + t) + (c ? d + Math.abs(n - i).toFixed(c).slice(2) : "");
				};

                Date.isLeapYear = function (year) { 
                    return (((year % 4 === 0) && (year % 100 !== 0)) || (year % 400 === 0)); 
                };

                Date.getDaysInMonth = function (year, month) {
                    return [31, (Date.isLeapYear(year) ? 29 : 28), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];
                };

                Date.prototype.isLeapYear = function () { 
                    return Date.isLeapYear(this.getFullYear()); 
                };

                Date.prototype.getDaysInMonth = function () { 
                    return Date.getDaysInMonth(this.getFullYear(), this.getMonth());
                };

                Date.prototype.addMonths = function (value) {
                    var n = this.getDate();
                    this.setDate(1);
                    this.setMonth(this.getMonth() + value);
                    this.setDate(Math.min(n, this.getDaysInMonth()));
                    return this;
                };

                String.prototype.extenso = function(c){

                    
                    
                        var ex = [
                            ["zero", "um", "dois", "três", "quatro", "cinco", "seis", "sete", "oito", "nove", "dez", "onze", "doze", "treze", "quatorze", "quinze", "dezesseis", "dezessete", "dezoito", "dezenove"],
                            ["dez", "vinte", "trinta", "quarenta", "cinqüenta", "sessenta", "setenta", "oitenta", "noventa"],
                            ["cem", "cento", "duzentos", "trezentos", "quatrocentos", "quinhentos", "seiscentos", "setecentos", "oitocentos", "novecentos"],
                            ["mil", "milhão", "bilhão", "trilhão", "quadrilhão", "quintilhão", "sextilhão", "setilhão", "octilhão", "nonilhão", "decilhão", "undecilhão", "dodecilhão", "tredecilhão", "quatrodecilhão", "quindecilhão", "sedecilhão", "septendecilhão", "octencilhão", "nonencilhão"]
                        ];
                        var a, n, v, i, n = this.replace(c ? /[^,\d]/g : /\D/g, "").split(","), e = " e ", $ = "real", d = "centavo", sl;
                        for(var f = n.length - 1, l, j = -1, r = [], s = [], t = ""; ++j <= f; s = []){
                            j && (n[j] = (("." + n[j]) * 1).toFixed(2).slice(2));
                            if(!(a = (v = n[j]).slice((l = v.length) % 3).match(/\d{3}/g), v = l % 3 ? [v.slice(0, l % 3)] : [], v = a ? v.concat(a) : v).length) continue;
                            for(a = -1, l = v.length; ++a < l; t = ""){
                                if(!(i = v[a] * 1)) continue;
                                i % 100 < 20 && (t += ex[0][i % 100]) ||
                                i % 100 + 1 && (t += ex[1][(i % 100 / 10 >> 0) - 1] + (i % 10 ? e + ex[0][i % 10] : ""));
                                s.push((i < 100 ? t : !(i % 100) ? ex[2][i == 100 ? 0 : i / 100 >> 0] : (ex[2][i / 100 >> 0] + e + t)) +
                                ((t = l - a - 2) > -1 ? " " + (i > 1 && t > 0 ? ex[3][t].replace("ão", "ões") : ex[3][t]) : ""));
                            }
                            a = ((sl = s.length) > 1 ? (a = s.pop(), s.join(" ") + e + a) : s.join("") || ((!j && (n[j + 1] * 1 > 0) || r.length) ? "" : ex[0][0]));
                            a && r.push(a + (c ? (" " + (v.join("") * 1 > 1 ? j ? d + "s" : (/0{6,}$/.test(n[0]) ? "de " : "") + $.replace("l", "is") : j ? d : $)) : ""));
                        }
                        return r.join(e);
                    }

			});

            

            var myApp = {
                reload: function()
                {
                    this.initialize();
                },
                resizable: function()
                {
                    $( ".resizable" ).resizable({handles: 'n, e, s, w'});    
                },
                dataMask: function()
                {
                    $.each($("[data-mask]"), function(x, y){
                        var $mask = $(y).data('mask');
                        $(y).inputmask($mask);
                    });
                },
                dataMoney: function()
                {
                    $('[data-money]').maskMoney({prefix:'R$ ', allowNegative: false, thousands:'.', decimal:',', affixesStay: false});
                },
                readonly: function()
                {
                    $("[readonly]").each(function(k,v){
                        var $v = $(v);
                        $v.popup({
                            on        : 'hover',
                            html      : 'Campo desabilitado',
                        });
                    });
                },
                timeago: function()
                {
                    $("time.timeago").timeago();
                },
                dropdown: function()
                {
                    $('.combo.dropdown').dropdown(
                        {
                            action: 'combo'
                        }
                    );
                    $('.dropdown').dropdown();
                    $('select[multiple]').dropdown(
                        {
                            allowAdditions: true
                        }
                    );
                },
                popup: function()
                {
                    $('[data-popup]').popup(
                        {
                            on: 'click'
                        }
                    );
                    $('[data-quick-popup]').popup(
                        {
                            on: 'hover'
                        }
                    );
                },
                datetimepicker: function()
                {
                    $.datetimepicker.setLocale('pt-BR');

                    $("[datetimepicker]").datetimepicker(
                        {
                            lang: 'pt-BR',
                            lazyInit: true,
                            value: null,
                            mask: true,
                            format:'d/m/Y H:i',
                            minDate: '30/06/2016',
                            startDate: '30/06/2016',
                            defaultTime: '23:10',
                        }
                    );

                    $("[timepicker]").datetimepicker(
                        {
                            lang: 'pt-BR',
                            lazyInit: true,
                            value: null,
                            mask: false,
                            defaultTime: '23:10',
                            datepicker: false,
                            format: 'H:i'
                        }
                    );

                    $("[datepicker]").datetimepicker(
                        {
                            lang: 'pt-BR',
                            mask: true,
                            lazyInit: true,
                            timepicker: false,
                            format:'d/m/Y',
                            //minDate: '30/06/2016',
                            startDate: '30/06/2016',
                        }
                    );
                },
                priceformat: function()
                {
                    $("[valor-monetario]").priceFormat({
                        prefix: 'R$ ',
                        centsSeparator: ',',
                        thousandsSeparator: '.'
                    });
                },
                accordion: function()
                {
                    $('.accordion').accordion(
                        {

                            
                            duration: 200
                        }
                    );
                },
                tab: function()
                {
                    $('.menu .item').tab();
                },
                checkbox: function()
                {
                    $('.checkbox,.radio').checkbox();
                },
                nicescroll: function()
                {
                    $("[scroll-container]").niceScroll({
                        cursorcolor: "#ccc",
                        cursoropacitymin: 0,
                        cursoropacitymax: 1,
                        cursorwidth: "10px",
                        cursorborder: "solid 2px transparent",
                        cursorborderradius: "0px"
                    });
                },
                initialize: function()
                {
                    this.resizable();
                    this.readonly();
                    this.dataMoney();
                    this.dataMask();
                    this.timeago();
                    this.dropdown();
                    this.popup();
                    this.datetimepicker();
                    this.priceformat();
                    this.accordion();
                    this.tab();
                    this.checkbox();
                    this.nicescroll();
                },
                dataTable: function(name, columns, url)
                {
                    var $seletor = $('[data-datatable="' + name + '"]');

                    var myTable = $seletor.DataTable({
                        "columns": columns,
                        colReorder  : true,
                        //scrollY     : 380,
                        deferRender : false,
                        //scroller    : true,
                        processing  : true,
                        ajax: function(data, callback, settings)
                        {
                            settings.jqXHR = $.ajax({
                            "dataType": 'json',
                            "timeout": 20000,
                            "url": url,
                            "success": callback
                            }).done(function() {
                                
                                myTable.columns().every(function(){
                                    var column = this;

                                    if( $(column.footer()).data('select') == true )
                                    {

                                        var select = $('<select><option value=""></option></select>')
                                            .appendTo( $(column.footer()).empty().append("<form class=\"ui form wide\" style=\"max-width: 100px;\"/>").find("form") )
                                            .on( 'change', function () {
                                                var val = $.fn.dataTable.util.escapeRegex(
                                                    $(this).val()
                                                );
                         
                                                column
                                                    .search( val ? '^'+val+'$' : '', true, false )
                                                    .draw();
                                            } );
                         
                                        column.data().unique().sort().each( function ( d, j ) {
                                            select.append( '<option value="'+d+'">'+d+'</option>' )
                                        } );
                                    }

                                    $('.dropdown').dropdown();
                                });
                            
                            });
                        },
                        drawCallback: function( settings ){
                            
                        }
                    });


                    $seletor.find('tfoot').find('th[search]').each(function(){
                        var $this = $(this);
                        var placeholder = $this.attr('search');
                        $this.html( '' + 
                            '<div class="ui input fluid">' +
                                '<div class="ui transparent icon input">' +
                                    
                                    '<input type="text" placeholder="' + placeholder + '" />' +
                                    '<i class="left floated icon-search icon"></i>' + 
                                '</div>' + 
                            '</div>' );
                    });

                    myTable.columns().every(function(){
                        var that = this;
                        $( 'input', this.footer() ).on( 'keyup change', function(){
                            if ( that.search() !== this.value )
                            {
                                that
                                .search( this.value.replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi, '') )
                                .draw();
                            }
                        });
                    });

                    $seletor.find('tbody').on('click', 'tr', function(){
                        var tr = $(this);
                        var row = myTable.row( tr );
                    });

                    $.each($seletor.find("tfoot").find("tr"), function(k, v){
                        var $v = $(v);
                        console.log($v);
                        $v.insertAfter($v.closest('table').find('thead').find('tr'));
                    });


                    return myTable;
                },
                alerta: function(value)
                {
                    var $widget_alerta = $("#widget-alerta");
                    var $container     = $widget_alerta.find('.message');
                    var $content       = $container.find('.content').find('p');
                    
                    $container.removeClass("green").removeClass("red").removeClass("blue");

                    switch(value.tipo)
                    {
                        case 'success':
                        default:
                            $container.addClass('green');
                        break;
                        case 'danger':
                        case 'error':
                            $container.addClass('red');
                        break;
                        case 'info':
                            $container.addClass('blue');
                        break;
                    }

                    $content.html(value.alerta);
                    $widget_alerta.fadeIn();
                    
                    setTimeout(
                        function()
                        {
                            $widget_alerta.fadeOut('slow');
                        }
                    , 5000);

                }
            };

            $('.dataTable tfoot th[search]').each(function(){
                $(this).html( '<div class="ui field input"><input type="text" placeholder="" /></div>' );
            });

            myApp.initialize();

            var sessaoApp = {
                url: {
                    minhaSessao            : "http://localhost/ncrm/index.php/global/sessao/minhaSessao",
                    ping                   : "http://localhost/ncrm/index.php/global/sessao/ping",
                    iniciarMinhaSessao     : "http://localhost/ncrm/index.php/global/sessao/iniciarMinhaSessao",
                    interromperMinhaSessao : "http://localhost/ncrm/index.php/global/sessao/interromperMinhaSessao",
                    encerrarSessaoInterrompida : "http://localhost/ncrm/index.php/global/sessao/encerrarSessaoInterrompida",
                    retomarMinhaSessao     : "http://localhost/ncrm/index.php/global/sessao/retomarMinhaSessao",
                },
                initialize: function()
                {
                    this.minhaSessao();
                },
                minhaSessao: function()
                {
                },
                iniciarMinhaSessao: function()
                {
                    var $request = $.ajax({
                        url    : this.url.iniciarMinhaSessao,
                        async  : false,
                        cache  : true
                    });

                    $request
                    .always()
                    .done(
                        function(k)
                        {
                            myApp
                            .alerta(
                                {
                                    tipo   : (k.status == true ? 'success' : 'danger'),
                                    alerta : k.alerta
                                }
                            );

                            if (k.status === true)
                            {
                                sessaoApp.minhaSessao();
                                $("a[data-tab=\"first\"]").click();
                            }
                        }
                    );      
                },
                interromperMinhaSessao: function(value)
                {
                    var $request = $.ajax({
                        type   : 'POST',
                        data   : value,
                        url    : this.url.interromperMinhaSessao,
                        async  : false,
                        cache  : true
                    });

                    $request
                    .always()
                    .done(
                        function(k)
                        {
                            if (k.status === false)
                            {
                                myApp
                                .alerta(
                                    {
                                        tipo  : (k.status == true ? 'success' : 'danger'),
                                        alerta: k.alerta
                                    }
                                );
                            } else {
                                
                                var $modal = $('#retomar-minha-sessao');
                                
                                $modal.find("p").find("span").html("").append("<time class=\"timeago\" datetime=\"" + k.data.sessao_aberta + "\"></time>");
                                $modal.find("#sessao-interrompida-nome").html(k.data.intervalo_operacao_nome);
                                myApp.timeago();
                                $modal.modal(
                                {
                                    closable  : false,
                                    onApprove : function()
                                    {
                                        var $voltei = $.ajax({
                                            url    : sessaoApp.url.encerrarSessaoInterrompida,
                                            async  : false,
                                            cache  : true
                                        });

                                        $voltei
                                        .always()
                                        .done(
                                            function(v)
                                            {
                                                myApp
                                                .alerta(
                                                    {
                                                        tipo  : (v.status == true ? 'success' : 'danger'),
                                                        alerta: v.alerta
                                                    }
                                                );
                                                if (v.status === true)
                                                {
                                                    $modal.modal('hide');
                                                }
                                            }
                                        );
                                        return false;
                                    }
                                }).modal('show');
                            }
                        }
                    );      
                },
                encerrarSessaoInterrompida: function()
                {
                     var $request = $.ajax({
                        url    : this.url.encerrarSessaoInterrompida,
                        async  : false,
                        cache  : true
                    });

                    $request
                    .always()
                    .done(
                        function(k)
                        {
                            myApp
                            .alerta(
                                {
                                    tipo  : (k.status == true ? 'success' : 'danger'),
                                    alerta: k.alerta
                                }
                            );
                            if (k.status === true)
                            {
                                window.location = k.url;
                            }
                        }
                    );  
                }
            }
        
            sessaoApp.initialize();


		</script><div class="ui popup inverted">Você receberá as notificações na sua caixa de entrada dentro do sistema</div><div class="ui popup inverted">Você receberá as notificações na caixa de entrada do seu e-mail</div><div class="ui popup inverted"><div class="content">Ir a página ínicial do sistema</div></div><div class="ui popup inverted"><div class="content">Sistema</div></div><div class="ui popup inverted"><div class="content">Minhas notificações</div></div><div class="ui popup inverted"><div class="content">Minha agenda</div></div>        

        <style type="text/css">
	#widget-alerta
	{
		height: auto;
		position: fixed;
		z-index: 100000;
		top: 10px;
		right: 10px;
		display: none;
		border: none !important
	}

	#widget-alerta .content {
		margin-left: 10px;
	}

</style>

<div id="widget-alerta">
	
	<div class="ui icon small message">
		<i class="icon-info-circled-alt"></i>
  		<div class="content">
  			<p>
  			</p>
  		</div>
	</div>

</div>

<script type="text/javascript">
	$(function(){
		'use strict';
		$('.message .close')
			.on('click', function()
			{
			   	$(this)
				.closest('#widget-alerta')
				.transition('fade');
			}
		);
	});
</script>        
       

    
<div class="sweet-container"><div class="sweet-overlay" tabindex="-1"></div><div class="sweet-alert" style="display: none" tabindex="-1"><div class="icon error"><span class="x-mark"><span class="line left"></span><span class="line right"></span></span></div><div class="icon warning"> <span class="body"></span> <span class="dot"></span> </div> <div class="icon info"></div> <div class="icon success"> <span class="line tip"></span> <span class="line long"></span> <div class="placeholder"></div> <div class="fix"></div> </div> <div class="icon custom"></div> <h2>Title</h2><p>Text</p><hr><button class="confirm">OK</button><button class="cancel">Cancel</button></div></div></body><object id="8b18c9db-8ac8-85a2-3858-db8988b5a6ae" width="0" height="0" type="application/gas-events-uni"></object></html>